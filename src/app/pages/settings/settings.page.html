<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Einstellungen</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Einstellungen</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="ion-padding">
    <!-- App Info -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>WorkFlow Assist</ion-card-title>
        <ion-card-subtitle>Version 1.0.0</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <p>Mobile Applikation zur Erfassung und Verwaltung von Arbeitsplatz-Problemen</p>
      </ion-card-content>
    </ion-card>

    <!-- Darstellung -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="color-palette"></ion-icon>
          Darstellung
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          <ion-item>
            <ion-icon name="moon" slot="start"></ion-icon>
            <ion-label>
              <h2>Dark Mode</h2>
              <p>Dunkles Design aktivieren</p>
            </ion-label>
            <ion-toggle [(ngModel)]="darkMode" (ionChange)="toggleDarkMode()"></ion-toggle>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <!-- Benachrichtigungen -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="notifications"></ion-icon>
          Benachrichtigungen
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          <ion-item>
            <ion-icon name="notifications-outline" slot="start"></ion-icon>
            <ion-label>
              <h2>Push Benachrichtigungen</h2>
              <p>Bei Statusänderungen benachrichtigen</p>
            </ion-label>
            <ion-toggle [(ngModel)]="notificationsEnabled" (ionChange)="toggleNotifications()"></ion-toggle>
          </ion-item>
          <ion-item button (click)="testNotification()">
            <ion-icon name="megaphone" slot="start"></ion-icon>
            <ion-label>
              <h2>Test Benachrichtigung</h2>
              <p>Sende eine Test-Benachrichtigung</p>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <!-- Netzwerk & Speicher -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="server"></ion-icon>
          Netzwerk & Speicher
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          <ion-item>
            <ion-icon [name]="isOnline ? 'wifi' : 'wifi-outline'" slot="start" [color]="isOnline ? 'success' : 'danger'"></ion-icon>
            <ion-label>
              <h2>Verbindungsstatus</h2>
              <p>{{ isOnline ? 'Online' : 'Offline' }} {{ networkType ? '(' + networkType + ')' : '' }}</p>
            </ion-label>
          </ion-item>
          <ion-item button (click)="clearLocalStorage()">
            <ion-icon name="trash-bin" slot="start" color="warning"></ion-icon>
            <ion-label>
              <h2>Lokalen Speicher leeren</h2>
              <p>Alle lokal gespeicherten Daten löschen</p>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <!-- Statistiken -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="stats-chart"></ion-icon>
          Statistiken
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list lines="none">
          <ion-item>
            <ion-label>
              <h3>Gesamt Tickets</h3>
              <p class="stat-value">{{ stats.total }}</p>
            </ion-label>
          </ion-item>
          <ion-item>
            <ion-label>
              <h3>Offene Tickets</h3>
              <p class="stat-value status-open">{{ stats.open }}</p>
            </ion-label>
          </ion-item>
          <ion-item>
            <ion-label>
              <h3>In Bearbeitung</h3>
              <p class="stat-value status-in-progress">{{ stats.inProgress }}</p>
            </ion-label>
          </ion-item>
          <ion-item>
            <ion-label>
              <h3>Gelöst</h3>
              <p class="stat-value status-resolved">{{ stats.resolved }}</p>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <!-- Info -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="information-circle"></ion-icon>
          Über
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p><strong>Entwickelt mit:</strong></p>
        <ion-chip>
          <ion-label>Ionic Framework</ion-label>
        </ion-chip>
        <ion-chip>
          <ion-label>Angular</ion-label>
        </ion-chip>
        <ion-chip>
          <ion-label>Capacitor</ion-label>
        </ion-chip>
        <ion-chip>
          <ion-label>Supabase</ion-label>
        </ion-chip>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
